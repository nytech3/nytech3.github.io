<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"nytech3.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="开始使用GIT移除GIT对项目的控制只要将.git文件移除，GIT就对这个目录失去了控制权。   常用别名配置1234git config --global alias.co checkoutgit config --global alias.ci commitgit config --global alias.br branchgit config --global alias.st sta">
<meta property="og:type" content="article">
<meta property="og:title" content="GIT-从入门到精通">
<meta property="og:url" content="https://nytech3.github.io/2021/07/20/git/GIT-GIT%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/index.html">
<meta property="og:site_name" content="nytech">
<meta property="og:description" content="开始使用GIT移除GIT对项目的控制只要将.git文件移除，GIT就对这个目录失去了控制权。   常用别名配置1234git config --global alias.co checkoutgit config --global alias.ci commitgit config --global alias.br branchgit config --global alias.st sta">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-07-20T10:11:25.000Z">
<meta property="article:modified_time" content="2024-09-19T07:25:56.994Z">
<meta property="article:author" content="nytech">
<meta property="article:tag" content="GIT">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://nytech3.github.io/2021/07/20/git/GIT-GIT%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>GIT-从入门到精通 | nytech</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">nytech</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档<span class="badge">140</span></a>

  </li>
        <li class="menu-item menu-item-following">

    <a href="/following/" rel="section"><i class="following fa-fw"></i>关注</a>

  </li>
        <li class="menu-item menu-item-tool">

    <a href="/tool/" rel="section"><i class="tool fa-fw"></i>工具</a>

  </li>
        <li class="menu-item menu-item-dailyguide">

    <a href="/dailyguide" rel="section"><i class="dailyguide fa-fw"></i>每日导读</a>

  </li>
        <li class="menu-item menu-item-book">

    <a href="/book" rel="section"><i class="book fa-fw"></i>书籍</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/nytech3" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://nytech3.github.io/2021/07/20/git/GIT-GIT%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="nytech">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="nytech">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          GIT-从入门到精通
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-07-20 18:11:25" itemprop="dateCreated datePublished" datetime="2021-07-20T18:11:25+08:00">2021-07-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">技术</span></a>
                </span>
            </span>

          
            <span id="/2021/07/20/git/GIT-GIT%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" class="post-meta-item leancloud_visitors" data-flag-title="GIT-从入门到精通" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <!-- ttoc -->

<h1 id="开始使用GIT"><a href="#开始使用GIT" class="headerlink" title="开始使用GIT"></a>开始使用GIT</h1><h2 id="移除GIT对项目的控制"><a href="#移除GIT对项目的控制" class="headerlink" title="移除GIT对项目的控制"></a>移除GIT对项目的控制</h2><p>只要将.git文件移除，GIT就对这个目录失去了控制权。  </p>
<h2 id="常用别名配置"><a href="#常用别名配置" class="headerlink" title="常用别名配置"></a>常用别名配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.co checkout</span><br><span class="line">git config --global alias.ci commit</span><br><span class="line">git config --global alias.br branch</span><br><span class="line">git config --global alias.st status</span><br></pre></td></tr></table></figure>

<h2 id="使用-tmp目录进行练习"><a href="#使用-tmp目录进行练习" class="headerlink" title="使用/tmp目录进行练习"></a>使用/tmp目录进行练习</h2><p>在macOS操作系统下，/tmp目录中的内容在下次计算机重新启动时就会被全部清空，所以不需要进行手动处理。  </p>
<h2 id="git-add-与-git-add-A"><a href="#git-add-与-git-add-A" class="headerlink" title="git add . 与 git add -A"></a>git add . 与 git add -A</h2><p><strong>git add .</strong> 会把当前目录以及它的子目录，子子目录…中的改动加到暂存区中，但在该异动之外的就不归它管了；    </p>
<p><strong>git add –all</strong> 命令就没有这个问题，该命令不管在哪一层目录执行，效果都是一样的，这个项目的所有改动都会被加入到暂存区。  </p>
<span id="more"></span>

<h2 id="工作区（Working-Directory）、暂存区-Stage-Index-、本地仓库-Repository或Git-Directory-、远程仓库-Remote-Directory"><a href="#工作区（Working-Directory）、暂存区-Stage-Index-、本地仓库-Repository或Git-Directory-、远程仓库-Remote-Directory" class="headerlink" title="工作区（Working Directory）、暂存区(Stage/Index)、本地仓库(Repository或Git Directory)、远程仓库(Remote Directory)"></a>工作区（Working Directory）、暂存区(Stage/Index)、本地仓库(Repository或Git Directory)、远程仓库(Remote Directory)</h2><p><strong>git add</strong>命令可以把文件从工作目录移至暂存区。<br><strong>git commit</strong>命令可以把暂存区的内容移动至本地仓库。<br><strong>git push</strong>命令可以把本地仓库的内容推至远程仓库。  </p>
<blockquote>
<p>暂存区对应 .git/index 文件</p>
</blockquote>
<h2 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h2><h3 id="查看特定文件的提交"><a href="#查看特定文件的提交" class="headerlink" title="查看特定文件的提交"></a>查看特定文件的提交</h3><p><strong>git log xxxx.md</strong><br>想要看到该文件每次的修改内容可以使用 : <strong>git log -p xxxx.md</strong>   </p>
<h3 id="指定查找某个或者多个提交者的所有日志"><a href="#指定查找某个或者多个提交者的所有日志" class="headerlink" title="指定查找某个或者多个提交者的所有日志"></a>指定查找某个或者多个提交者的所有日志</h3><p><strong>git log –oneline –author=”nytech3|caizhy”</strong>      </p>
<h3 id="查找包含某些关键字的commit信息"><a href="#查找包含某些关键字的commit信息" class="headerlink" title="查找包含某些关键字的commit信息"></a>查找包含某些关键字的commit信息</h3><p><strong>git log –oneline –grep=”GIT”</strong>      </p>
<h3 id="查找某一时间段的commit"><a href="#查找某一时间段的commit" class="headerlink" title="查找某一时间段的commit"></a>查找某一时间段的commit</h3><p>查找9点-12点的日志 : <strong>git log –oneline –since=”9am” –until=”12am”</strong><br>查找2020年之后9点-12点的日志 : <strong>git log –oneline –since=”9am” –until=”12am”  –after=”2020-01”</strong>    </p>
<h2 id="删除文件-与-移出GIT控制"><a href="#删除文件-与-移出GIT控制" class="headerlink" title="删除文件 与 移出GIT控制"></a>删除文件 与 移出GIT控制</h2><p>删除文件并将删除内容加至暂存区 : <strong>git rm ./xxx.md</strong><br>将文件移出GIT控制(执行完之后暂存区中会出现删除文件的标记，同时文件变成untracked状态，但文件不会被删除) : <strong>git rm ./xxx.md  –cached</strong>    </p>
<h2 id="更改文件名"><a href="#更改文件名" class="headerlink" title="更改文件名"></a>更改文件名</h2><p><strong>git mv a.md b.md</strong><br>相比直接更改文件名，该命令改完文件名之后，会将文件加至工作区。  </p>
<h2 id="GIT的SHA-1计算"><a href="#GIT的SHA-1计算" class="headerlink" title="GIT的SHA-1计算"></a>GIT的SHA-1计算</h2><p>GIT是根据文件的”内容”来计算SHA-1的值，所以文件的名称并不是很重要，重要的是文件内容。当文件名修改时，GIT并不会为此做出一个新的BLOB对象，而只是指向原来的那个BLOB对象。但是文件名变了，GIT会为此做出一个新的Tree对象。<br>SHA-1(Secure Hash Algorithm 1)计算之后的结果会以40个16进制的数字呈现。<br>在GIT中，不同种类的SHA-1计算的方式不同。   </p>
<h3 id="Blob对象"><a href="#Blob对象" class="headerlink" title="Blob对象"></a>Blob对象</h3><ol>
<li>“blob”字样  </li>
<li>一个空白字节</li>
<li>输入内容的长度</li>
<li>Null结束符号</li>
<li>输入内容</li>
</ol>
<h3 id="Tree对象"><a href="#Tree对象" class="headerlink" title="Tree对象"></a>Tree对象</h3><ol>
<li>“tree”字样  </li>
<li>一个空白字节</li>
<li>输入内容的长度</li>
<li>Null结束符号</li>
<li>输入内容</li>
</ol>
<h3 id="Commit对象"><a href="#Commit对象" class="headerlink" title="Commit对象"></a>Commit对象</h3><ol>
<li>“commit”字样  </li>
<li>一个空白字节</li>
<li>输入内容的长度</li>
<li>Null结束符号</li>
<li>输入内容</li>
</ol>
<h2 id="修改commit记录"><a href="#修改commit记录" class="headerlink" title="修改commit记录"></a>修改commit记录</h2><ol>
<li>使用rebase命令来改动历史记录。    </li>
<li>先把commit使用git reset命令移除，整理之后再重新commit。  </li>
<li>使用–amend参数改动<strong>最后一次</strong>commit。  </li>
</ol>
<h3 id="使用–amend参数进行commit"><a href="#使用–amend参数进行commit" class="headerlink" title="使用–amend参数进行commit"></a>使用–amend参数进行commit</h3><p><strong>git commit –amend -m “recommit”</strong><br>虽然只是修改了记录的信息，其他什么都没有变，但对于Git而言，因为commit内容变了，所以Git会重新计算并产生一个新的commit对象，这其实是一次全新的commit(可以使用<strong>git log –oneline</strong>查看执行前后的SHA-1值的变化)。  </p>
<h3 id="使用rebase进行修改"><a href="#使用rebase进行修改" class="headerlink" title="使用rebase进行修改"></a>使用rebase进行修改</h3><p>对于–amend的方式只能改动最后一次commit，如果想修改更早之前的记录可以使用rebase进行修改。  </p>
<h3 id="使用reset进行修改"><a href="#使用reset进行修改" class="headerlink" title="使用reset进行修改"></a>使用reset进行修改</h3><p>可以使用<strong>git reset</strong>将版本reset到前一个版本重新commit  </p>
<h2 id="追加文件到最后一次修改"><a href="#追加文件到最后一次修改" class="headerlink" title="追加文件到最后一次修改"></a>追加文件到最后一次修改</h2><h3 id="使用reset进行修改-1"><a href="#使用reset进行修改-1" class="headerlink" title="使用reset进行修改"></a>使用reset进行修改</h3><p>使用<strong>git reset</strong>命令把最后一次commit删除，加入新文件再重新commit。  </p>
<h3 id="使用–amend参数进行commit-1"><a href="#使用–amend参数进行commit-1" class="headerlink" title="使用–amend参数进行commit"></a>使用–amend参数进行commit</h3><p>使用<strong>git commit –amend –no-edit</strong>即可，这样就可以把文件并入最后一次修改中。   </p>
<h2 id="gitignore文件"><a href="#gitignore文件" class="headerlink" title=".gitignore文件"></a>.gitignore文件</h2><p>如果不想把文件放在git中，只需要在目录中放一个.gitignore文件，并且设置想要忽略的规则即可。对于已经在GIT管理中的文件，即在.gitignore之前就已经存在，.gitignore文件设置的规则只对那些规则设置之后存入的文件有效，那些已经存在的文件就像既得利益者一样，这些<br>规则是无效的。  </p>
<h3 id="忽略-gitignore"><a href="#忽略-gitignore" class="headerlink" title="忽略.gitignore"></a>忽略.gitignore</h3><p>使用 <strong>git add -f 文件名称</strong>  </p>
<h3 id="清除忽略的文件"><a href="#清除忽略的文件" class="headerlink" title="清除忽略的文件"></a>清除忽略的文件</h3><p>如果想要清除那些已经被忽略的文件，可以使用<strong>git clean</strong>命令并配合-X参数:<strong>git clean -fX</strong>  </p>
<h2 id="查看文件的代码行的最后提交人"><a href="#查看文件的代码行的最后提交人" class="headerlink" title="查看文件的代码行的最后提交人"></a>查看文件的代码行的最后提交人</h2><p>查看指定文件 : <strong>git blame xxxx.md</strong><br>查看指定文件的指定行 : <strong>git blame -L 5,10 xxxx.md</strong>  </p>
<h2 id="找回被删除的文件或者目录"><a href="#找回被删除的文件或者目录" class="headerlink" title="找回被删除的文件或者目录"></a>找回被删除的文件或者目录</h2><p>找回指定文件 : <strong>git checkout xxxx.md</strong><br>找回所有文件 : <strong>git checkout .</strong>    </p>
<h2 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h2><h3 id="Reset模式"><a href="#Reset模式" class="headerlink" title="Reset模式"></a>Reset模式</h3><p>git reset 命令可以搭配参数使用，常用的参数有3个，分别是–mixed,–soft,–hard。</p>
<h4 id="–mixed模式"><a href="#–mixed模式" class="headerlink" title="–mixed模式"></a>–mixed模式</h4><p>–mixed是默认的参数，如果没有另外加参数，git reset将使用–mixed模式。该模式会把暂存区的文件删除。但不会影响工作目录的文件。也就是说，Commit拆出来的文件会留在工作目录，但不会留在暂存区。  </p>
<h4 id="–soft模式"><a href="#–soft模式" class="headerlink" title="–soft模式"></a>–soft模式</h4><p>这种模式下的reset，其工作目录与暂存区的文件都不会被删除，所以看起来只有HEAD的移动而已。因此，Commit拆出来的文件会直接放在暂存区。  </p>
<h4 id="–hard模式"><a href="#–hard模式" class="headerlink" title="–hard模式"></a>–hard模式</h4><p>这种模式下，无论是暂存区还是工作目录都会被删除。  </p>
<h3 id="取消最后一次commit"><a href="#取消最后一次commit" class="headerlink" title="取消最后一次commit"></a>取消最后一次commit</h3><p><strong>git reset HEAD^</strong></p>
<h2 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h2><p>HEAD是一个指标，指向某一个分支，通常可以将其当作当前所在分支来看待。可以通过<strong>cat .git/HEAD</strong>查看当前HEAD所指向的分支。  </p>
<h2 id="只commit部分内容"><a href="#只commit部分内容" class="headerlink" title="只commit部分内容"></a>只commit部分内容</h2><p>当使用git add时，如果加上-p参数，git会询问是否要把这个区域加到暂存区，如果y就把整个文件加进去。在此如果只是想送出部分内容，则选择e选项，删除不想提交的文本内容即可。  </p>
<h2 id="git目录"><a href="#git目录" class="headerlink" title=".git目录"></a>.git目录</h2><h3 id="git的四种对象"><a href="#git的四种对象" class="headerlink" title="git的四种对象"></a>git的四种对象</h3><p>Blob,Tree,Commit,Tag</p>
<h3 id="git-cat-file"><a href="#git-cat-file" class="headerlink" title="git cat-file"></a>git cat-file</h3><p>可以使用<strong>git cat-file</strong>查看文件。  </p>
<h4 id="查看对象文件类型"><a href="#查看对象文件类型" class="headerlink" title="查看对象文件类型"></a>查看对象文件类型</h4><p>**git cat-file -t ** 查看文件对象的类型。  </p>
<h4 id="查看对象文件内容"><a href="#查看对象文件内容" class="headerlink" title="查看对象文件内容"></a>查看对象文件内容</h4><p><strong>git cat-file -p</strong> 查看文件对象的类型。  </p>
<h3 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a>git add</h3><p>当文件被加入到暂存区之后，git便会在.git目录中生成一个Blob(Binary Large Object)对象,并且依照其规则放在目录中。这个Blob对象用来存放文件的内容。注意这里说的是“内容”而不是把整个文件都搬进.git目录。  </p>
<ol>
<li>当使用git add命令把文件加入到暂存区之后，git会根据这个对象的内容计算出SHA-1值。  </li>
<li>Git接着会用SHA-1值的前2个字节作为目录名称，后38个字节作为文件名，创建目录及文件并存放在.git/objects目录下。     </li>
<li>文件的内容则是Git使用压缩算法把原来的”内容”压缩之后的结果。  </li>
<li>如果内容一样，会引用同一个blob对象。  </li>
</ol>
<blockquote>
<p>Blob对象的文件名由SHA-1算法决定，其内容是由压缩算法决定的。  </p>
</blockquote>
<blockquote>
<p>空的目录无法被加入Git中。原因是Git会针对文件中的内容使用SHA-1算法进行计算，然后在.git/objects中创建对应的目录文件。但因为这只是一个空的config目录，它根本没有”内容”可以计算。所以git感应不到这个空的目录。  </p>
</blockquote>
<h3 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h3><p>git commit完之后会出现tree对象和commit对象。  </p>
<h4 id="objects目录中Tree对象"><a href="#objects目录中Tree对象" class="headerlink" title="objects目录中Tree对象"></a>objects目录中Tree对象</h4><ol>
<li>文件在git中会以Blob对象的形式存放。  </li>
<li>目录以及文件的名称将会以Tree对象的形式存放。  </li>
<li>Tree对象的内容会指向某个或者某些Blob对象或者其他的Tree对象。  </li>
</ol>
<h4 id="objects目录中Commit对象"><a href="#objects目录中Commit对象" class="headerlink" title="objects目录中Commit对象"></a>objects目录中Commit对象</h4><p>Commit对象包含信息有: </p>
<ol>
<li>某个Tree对象。</li>
<li>本次commit的时间。  </li>
<li>作者。 </li>
<li>本次commit的message。 </li>
</ol>
<p>commit的规则:  </p>
<ol>
<li>commit对象会指向某个tree对象。 </li>
<li>Tree对象的内容会指向某个或者某些blob对象，或者其他的tree对象。</li>
<li>除了第一个commit对象，所有commit对象都会指向其前一次的commit对象。 </li>
</ol>
<h3 id="objects目录中Tag对象"><a href="#objects目录中Tag对象" class="headerlink" title="objects目录中Tag对象"></a>objects目录中Tag对象</h3><p>Tag对象不会在commit的过程中出现。必须手动的把tag贴在某个commit上，而且还不是一般的轻量tag，而是有附注的tag。<br><strong>git tag -a tag_2021_07_19 -m “这是7月19号的tag”</strong></p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><ol>
<li>把文件加入到git之后，文件的内容会被转成blob对象存储。  </li>
<li>目录以及文件名会被存在Tree对象内，Tree对象会指向Blob对象或者其他Tree对象。  </li>
<li>Commit对象会指向某个tree对象。除了第一个commit对象，其他的commit都会指向前一次commit对象。  </li>
<li>tag对象会指向某个commit对象。  </li>
<li>分支虽然不属于这四大对象之一，但它会指向某个commit对象。  </li>
<li>往git服务器推送之后，在.git/refs下就会多出一个remote目录，里面放的是远端的分支，基本上与本地的分支相似，同样也会指向一个commit对象。</li>
<li>HEAD不属于四大对象之一，HEAD会指向某一个分支。  </li>
</ol>
<h3 id="在对象状态时，git不做差异备份"><a href="#在对象状态时，git不做差异备份" class="headerlink" title="在对象状态时，git不做差异备份"></a>在对象状态时，git不做差异备份</h3><p>有些版本控制器会备份每次commit之间的差异，然后通过这些信息像拼图一样一个一个把文件还原成它该有的样子。<br>不过git不是这样子设计的。从前面的流程来看，每次使用git add命令把文件加到暂存区时，即使文件的内容只改变了一个字，也会因为算出来的SHA-1值不同，为其生成一个细新的Blob对象，而不是只记录了其差异。git在切换commit时会根据其tree对象直接获取到文件，而不用一个一个去拼凑历史记录，所以在进行checkout的时候效率较高。  </p>
<h3 id="Git的资源回收机制"><a href="#Git的资源回收机制" class="headerlink" title="Git的资源回收机制"></a>Git的资源回收机制</h3><p><strong>git gc</strong>可以触发资源回收机制。<br>如果git一直使用非差异备份的方式进行存储，就会很浪费空间，试想一下，有一个100kb的文件，因为改了一行代码，就必须在做出一个差不多也是100kb的文件，虽然git在制作blob对象时会对其进行压缩，但仍然非常浪费空间。<br>对此，git提供了资源回收机制。当使用该方式时，git会用非常有效的方式进行压缩对象和制作下标。<br><strong>虽然在对象状态时是完整的文件，在git进行资源回收打包时则使用了差异备份的方式，有效的缩小对象体积。</strong>  </p>
<h3 id="Git什么时候会自动触发资源回收机制"><a href="#Git什么时候会自动触发资源回收机制" class="headerlink" title="Git什么时候会自动触发资源回收机制"></a>Git什么时候会自动触发资源回收机制</h3><ol>
<li>当.git/objects目录的对象或打包过的packfile数量过多时，Git会自动触发资源回收命令。  </li>
<li>当执行git push时会把内容推至远端服务器时，</li>
</ol>
<h1 id="使用分支"><a href="#使用分支" class="headerlink" title="使用分支"></a>使用分支</h1><h2 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h2><p><strong>git branch</strong> 即可查看所有分支，分支前带有*的即当前分支。  </p>
<h2 id="修改分支名"><a href="#修改分支名" class="headerlink" title="修改分支名"></a>修改分支名</h2><p><strong>git branch -m master slave</strong></p>
<h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><p><strong>git branch -d slave</strong><br>如果要删除的内容没有被合并，使用-d则无法被删除。这时只要改用-D参数即可将其强制删除。  </p>
<h2 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h2><p><strong>git checkout 指定的分支</strong> ,当分支已存在时，可以直接使用该命令进行切换。  </p>
<p><strong>git checkout -b 指定的分支</strong> ,如果该分支本来就存在则直接切换过去，若不存在则会先创建一个再切换过去。  </p>
<p>切换分支时，git主要做了以下两件事情:  </p>
<ol>
<li>更新暂存区和工作目录。<br>GIT在切换分支时，会用该分支指向的那个commit内容来更新暂存区以及工作目录。但在切换分支之前所做的改动则会留在工作目录中，不受影响。  </li>
<li>变更head的位置</li>
</ol>
<h2 id="文件改动一半切换分支"><a href="#文件改动一半切换分支" class="headerlink" title="文件改动一半切换分支"></a>文件改动一半切换分支</h2><p>切换分支之前所做的改动会留在工作目录中，不受影响。即git status与切换分支前的状态是一致的。  </p>
<h2 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h2><p>假设有3个分支，master，dog，cat，其中dog和cat都是来自于master</p>
<h3 id="merge合并"><a href="#merge合并" class="headerlink" title="merge合并"></a>merge合并</h3><h4 id="master合并cat或者dog"><a href="#master合并cat或者dog" class="headerlink" title="master合并cat或者dog"></a>master合并cat或者dog</h4><p>所以不管master是要合并cat分支还是dog分支，git都会直接用快转模式(Fast Forward)进行合并，也就是master直接收割了cat或者dog的成果。直接将master指向dog或者cat分支所指向的commit对象，并不会生成新的commit对象。 </p>
<h5 id="快转模式"><a href="#快转模式" class="headerlink" title="快转模式"></a>快转模式</h5><p>cat是从master分支分出去的，当前领先master两次commit。如果这时回到master并且合并cat分支，Git会发现”其实你是从我这里出去的，除了这两个新的commit之外的东西我都有了”，所以git就会自动选用”快转模式”(Fast Forward)来进行合并。所谓的快转模式，其实就是把master直接引向cat分支所在的commit上而已。    </p>
<p>使用<code>--no-ff</code>可以禁止使用快转模式进行合并，这样就会多出一个commit对象。  </p>
<h4 id="dog合并cat或者cat合并dog"><a href="#dog合并cat或者cat合并dog" class="headerlink" title="dog合并cat或者cat合并dog"></a>dog合并cat或者cat合并dog</h4><p>git会生成一个新的commit对象，这个commit对象会分别指向dog和cat合并之前的commit对象。   </p>
<p>例如 :  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➜  daily_life git:(master) git cat-file -p 4df909f238c4e853b8a86c5da4c781d4d2c7ed85</span><br><span class="line">tree 61b2ac0fedc715f39798c7bc80fa916e128a65cf</span><br><span class="line">parent b22cf8b329cfafdb23cf126a1b10c57caf68a630</span><br><span class="line">parent 7974b1996992032117e1bdb4d552f86601861a78</span><br><span class="line">author caizhy &lt;c494003007@qq.com&gt; 1626625736 +0800</span><br><span class="line">committer caizhy &lt;c494003007@qq.com&gt; 1626625736 +0800</span><br></pre></td></tr></table></figure>

<h4 id="删除分支-1"><a href="#删除分支-1" class="headerlink" title="删除分支"></a>删除分支</h4><p>基本上分支就只是一个只有40个字节的文件而已。这个分支，也就是这40个字节，会标记出它当前指向哪一个commit。  </p>
<p>删除了分支，其实就只是删除了分支而已，真正的内容并不会因此被删除。  </p>
<p>如果分支被误删了可以使用<code>git branch cat commit对象的SHA-1码</code>将其找回。  </p>
<p>如果被误删除的分支SHA-1值没有被记下来，可以到reflog中去找，reflog默认会保留30天。  </p>
<h3 id="Rebase合并"><a href="#Rebase合并" class="headerlink" title="Rebase合并"></a>Rebase合并</h3><p>rebase含义大致就是重新定义分支的参考基准。   </p>
<p>假设有cat,dog,master分支，然后切换至cat分支上，这时执行以下命令:  <code>git rebase dog</code>，就会使用dog作为cat的新的参考基准。</p>
<p>rebase命令等于改动历史，不应该对已经推出去的内容进行rebase，否则很容易给其他人造成困扰。  </p>
<p>rebase的合并方式和merge的方式一个很明显的区别就是使用rebase方式进行合并分支，git不会做出一个专门用来合并的commit。  </p>
<h4 id="取消rebase"><a href="#取消rebase" class="headerlink" title="取消rebase"></a>取消rebase</h4><ol>
<li>使用reflog，找到rebase之前的操作，reset到那个版本，就回到Rebase之前的状态了。  </li>
<li>使用ORIG_HEAD，在GIT中有一个特别的记录点-ORIG_HEAD。ORIG_HEAD会记录危险操作之前HEAD的位置。例如，分支合并或者Reset之类的都是危险操作。通过这个记录点来取消这一次Rebase相对来说更简单。命令如下 : <code>git reset ORIG_HEAD --hard</code>    </li>
</ol>
<h4 id="发生冲突"><a href="#发生冲突" class="headerlink" title="发生冲突"></a>发生冲突</h4><p>在rebase过程中如果遇到了冲突，就会将rebase停下，待将有冲突的文件修正完之后加回暂存区<code>git add 指定的文件</code>，再使用<code>git rebase --continue</code>继续完成刚才的rebase。<br>当非文本文件发生冲突时可以使用<code>git checkout --ours 指定文件</code>或者<code>git checkout --theirs 指定文件</code>进行选择。  </p>
<h1 id="修改历史记录"><a href="#修改历史记录" class="headerlink" title="修改历史记录"></a>修改历史记录</h1><p><code>git rebase -i 指定的commit的SHA-1码</code><br>-i参数是指要进入Rebase指令的互动模式，而后面的SHA-1码是指这一次rebase指令的应用范围为”从现在到指定的commit的SHA-1码”。  </p>
<blockquote>
<p>在互动模式中，由上而下是从最旧到最新，与git log指令所呈现的结果是相反的。  </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">➜  daily_life git:(master) git rebase -i 910a558d908886801814dc94706f942191450e93</span><br><span class="line">pick a2a42c3 base</span><br><span class="line">pick 4d76df1 base</span><br><span class="line">pick c85e0c0 base</span><br><span class="line"></span><br><span class="line"># Rebase 910a558..c85e0c0 onto 910a558 (3 commands)</span><br><span class="line">#</span><br><span class="line"># Commands:</span><br><span class="line"># p, pick &lt;commit&gt; &#x3D; use commit</span><br><span class="line"># r, reword &lt;commit&gt; &#x3D; use commit, but edit the commit message</span><br><span class="line"># e, edit &lt;commit&gt; &#x3D; use commit, but stop for amending</span><br><span class="line"># s, squash &lt;commit&gt; &#x3D; use commit, but meld into previous commit</span><br><span class="line"># f, fixup &lt;commit&gt; &#x3D; like &quot;squash&quot;, but discard this commit&#39;s log message</span><br><span class="line"># x, exec &lt;command&gt; &#x3D; run command (the rest of the line) using shell</span><br><span class="line"># b, break &#x3D; stop here (continue rebase later with &#39;git rebase --continue&#39;)</span><br><span class="line"># d, drop &lt;commit&gt; &#x3D; remove commit</span><br><span class="line"># l, label &lt;label&gt; &#x3D; label current HEAD with a name</span><br><span class="line"># t, reset &lt;label&gt; &#x3D; reset HEAD to a label</span><br><span class="line"># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span><br></pre></td></tr></table></figure>
<p>完成指令之后会弹出一个vim编辑器，将要改动的commit前的pick改成reword。pick表示的是”保留这次的commit，不做改动”。例如: <code>pick a2a42c3 base</code> -&gt; <code>reword a2a42c3 base</code> 。然后存档离开，这时又会弹开第二个vim框。这时将commit 信息进行修改提交即可。  </p>
<p>看起来只是修改了信息，单纯的文字变动，但其实commit的SHA-1都变了，由此可以看出，改动完了之后，git会为此生成一个新的commit对象。  </p>
<p>rebase的合并方式和merge的方式一个很明显的区别就是使用rebase方式进行合并分支，git不会做出一个专门用来合并的commit。  </p>
<h2 id="把多个commit合并成一个commit"><a href="#把多个commit合并成一个commit" class="headerlink" title="把多个commit合并成一个commit"></a>把多个commit合并成一个commit</h2><p>使用<code>git rebase -i 指定的commit的SHA-1码</code> 进入交互模式，然后将pick改成squash。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  daily_life git:(master) ✗ git rebase -i 9ece95c0458ea04cb19de7776669bd06194d0843</span><br><span class="line">pick 063caad 2</span><br><span class="line">pick c77a1c7 3</span><br></pre></td></tr></table></figure>
<p>改成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  daily_life git:(master) ✗ git rebase -i 9ece95c0458ea04cb19de7776669bd06194d0843</span><br><span class="line">pick 063caad 2</span><br><span class="line">squash c77a1c7 3</span><br></pre></td></tr></table></figure>
<p>这些改动表示接下来，c77a1c7将会和063caad合并在一起。  </p>
<h2 id="把一个commit拆成多个commit或者在两个commit之间新增一个commit"><a href="#把一个commit拆成多个commit或者在两个commit之间新增一个commit" class="headerlink" title="把一个commit拆成多个commit或者在两个commit之间新增一个commit"></a>把一个commit拆成多个commit或者在两个commit之间新增一个commit</h2><p>使用<code>git rebase -i 指定的commit的SHA-1码</code> 进入交互模式，然后将pick改成edit。</p>
<h2 id="删除commit或者调整commit顺序"><a href="#删除commit或者调整commit顺序" class="headerlink" title="删除commit或者调整commit顺序"></a>删除commit或者调整commit顺序</h2><p>使用<code>git rebase -i 指定的commit的SHA-1码</code> 进入交互模式，然后将指定的commit删除或者调整前后顺序即可。</p>
<h2 id="revert"><a href="#revert" class="headerlink" title="revert"></a>revert</h2><p><code>git revert HEAD --no-edit</code> 加上–no-edit参数表示不编辑commit信息。<br>revert指令是再做一个新的commit来取消不要的commit，所以revert执行完之后原本的commit不会消失，反而会增加一个新的commit。   </p>
<h3 id="取消revert"><a href="#取消revert" class="headerlink" title="取消revert"></a>取消revert</h3><ol>
<li>再开一个新的revert来revert刚才那个revert。  </li>
<li>直接使用reset。  </li>
</ol>
<h3 id="为什么使用revert"><a href="#为什么使用revert" class="headerlink" title="为什么使用revert"></a>为什么使用revert</h3><p>团队开发时会关注提交历史使用reset的话会抹去历史，使用revert的话会新增一个commit，对其他人来说也就不算是改变了提交历史记录，只是刚好这个commit是另外一个commit的反向操作而已。</p>
<h2 id="Reset、Revert与Rebase的区别"><a href="#Reset、Revert与Rebase的区别" class="headerlink" title="Reset、Revert与Rebase的区别"></a>Reset、Revert与Rebase的区别</h2><h3 id="Reset"><a href="#Reset" class="headerlink" title="Reset"></a>Reset</h3><p>把当前状态设置成某个指定commit的状态，通常适用于尚未推出的commit。  </p>
<h3 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h3><p>不管是新增，改动，删除commit，还是用来整理，编辑还没有推出去的commit，都相当方便，但通常只适用于尚未推出去的commit。  </p>
<h3 id="Revert"><a href="#Revert" class="headerlink" title="Revert"></a>Revert</h3><p>新增一个commit来进行反转另一个commit的内容，原来的commit依旧会保留在历史记录中。虽然会因此而增加commit数量，但通常比较适用于已经推出去的commit，或者不允许使用reset或rebase来修改历史记录指令的场景。  </p>
<h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><h2 id="什么是标签"><a href="#什么是标签" class="headerlink" title="什么是标签"></a>什么是标签</h2><p>在git中标签是一个指向某个commit的指示标。</p>
<h2 id="什么时候使用标签"><a href="#什么时候使用标签" class="headerlink" title="什么时候使用标签"></a>什么时候使用标签</h2><p>通常开发软件时会完成特定的版本，如版本1.0.0之类的，这时候就适合使用标签。  </p>
<h2 id="标签的分类"><a href="#标签的分类" class="headerlink" title="标签的分类"></a>标签的分类</h2><p>标签有两种：一种是轻量标签，另外一种是有附注的标签。<br>轻量标签 : </p>
<ol>
<li><code>git tag tag_name commit_sha-1</code>  </li>
<li><code>git tag tag_name 分支</code>  </li>
</ol>
<p>附注标签 : </p>
<ol>
<li><code>git tag tag_name commit_sha-1 -a -m &quot;tag message&quot;</code>    </li>
<li><code>git tag tag_name 分支 -a -m &quot;tag message&quot;</code><br>其中-a表示创建有标注的标签，-m代表的是标签的信息。  </li>
</ol>
<h2 id="删除标签"><a href="#删除标签" class="headerlink" title="删除标签"></a>删除标签</h2><p><code>git tag -d 标签名</code></p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h2><p>git stash可以把未提交未完成的内容存起来，然后切换到其他分支进行工作。  </p>
<blockquote>
<p>注意: Untracked状态的文件默认无法被stash，需要额外使用-u参数。  </p>
</blockquote>
<h2 id="查看stash列表"><a href="#查看stash列表" class="headerlink" title="查看stash列表"></a>查看stash列表</h2><p><code>git stash list</code>  </p>
<h2 id="将stash内容捡回来"><a href="#将stash内容捡回来" class="headerlink" title="将stash内容捡回来"></a>将stash内容捡回来</h2><ol>
<li><code>git stash pop</code>  可以把某个stash拿出来并套用在当前的分支上。套用成功之后，那个套用过的stash就会被删除。如果没有指定要pop哪一个stash，会从编号最小的进行开始拿。      </li>
<li><code>git stash apply</code>  可以把某个stash拿出来并套用在当前的分支上。套用成功之后，那个套用过的stash不会被删除。</li>
</ol>
<h2 id="移除stash"><a href="#移除stash" class="headerlink" title="移除stash"></a>移除stash</h2><p><code>git stash drop stash@&#123;0&#125;</code>  </p>
<h2 id="将已提交的记录进行抹除"><a href="#将已提交的记录进行抹除" class="headerlink" title="将已提交的记录进行抹除"></a>将已提交的记录进行抹除</h2><p>如果发生重要的密码信息被提交上去的话，就必须进行删除。  </p>
<ol>
<li>把.git目录删除，密码文件删除，重新commit。<br>这样子做的最大缺点是之前的commit都会消失。  </li>
<li>使用filter-branch<br><code>git filter-branch --tree-filter &quot;rm -f 指定文件&quot;</code><br>(1) filter-branch 可以根据不同的filter一个一个commit去处理。<br>(2) 这里使用了–tree-filter这个filter，它可以在checkout到每个commit时执行指定的指令。执行完之后再自动重新commit。<br>(3) 因为删除了某个文件，所以之后的commit都会重新计算，即产生一份新的历史记录。  </li>
</ol>
<p>然后抹除reflog<code>git reflog expire --all --expire=now</code>,然后触发gir资源回收机制<code>git gc --prune-now</code>,然后<code>git push -f</code>把在线的记录覆盖。  </p>
<blockquote>
<p>可以使用<code>git fsck --unreachable</code>查看不可达的对象，触发资源回收之后才是真正的删除。使用<code>git gc --prune-now</code>可以清除处于Unreachable状态的对象。  </p>
</blockquote>
<blockquote>
<p><code>git gc --prune-now</code>相当于<br><code>git gc</code><br><code>git prune --expire=now</code>  </p>
</blockquote>
<h2 id="git-cherry-pick"><a href="#git-cherry-pick" class="headerlink" title="git cherry-pick"></a>git cherry-pick</h2><p><code>git cherry-pick commit_sha-1_1 commit_sha-1_2</code>可以将其他分支的多个commit捡过来，类似于将commit内容复制过来，接到现有的分支上，所以需要重新计算，产生一个新的commit。<br><code>git cherry-pick commit_sha-1 --no-commit</code> 捡过来的commit不会直接合并，而是先放在了暂存区。  </p>
<h2 id="出现detached-head原因"><a href="#出现detached-head原因" class="headerlink" title="出现detached head原因"></a>出现detached head原因</h2><p>正常情况下，HEAD会指向某一个分支，而分支会指向某一个commit，但head偶尔会发生没有指向某个分支的情况，这种情况的head便称作detached HEAD。  </p>
<ol>
<li>使用checkout指令跳到某个commit，而那个commit当前刚好没有分支指向它。  </li>
<li>Rebase的过程其实也是处于不断地detached head状态。  </li>
<li>切换到某个远端分支时。  </li>
</ol>
<h1 id="git服务器"><a href="#git服务器" class="headerlink" title="git服务器"></a>git服务器</h1><h2 id="推到远程服务器"><a href="#推到远程服务器" class="headerlink" title="推到远程服务器"></a>推到远程服务器</h2><h3 id="设置远端节点"><a href="#设置远端节点" class="headerlink" title="设置远端节点"></a>设置远端节点</h3><p><code>git remote add origin git@github.com:nytech3/daily_life.git</code>  </p>
<ol>
<li>git remote 主要是进行一些远端操作。   </li>
<li>add指令是指要加入一个远端节点。  </li>
<li>这里的origin是一个代名词，指的是后面那串github服务器的位置。    </li>
</ol>
<p>按照惯例，远端的节点默认使用origin这个名称。如果是从服务器clone下来，其默认名称就是origin。  </p>
<h3 id="推送到远端节点"><a href="#推送到远端节点" class="headerlink" title="推送到远端节点"></a>推送到远端节点</h3><p><code>git push -u origin master</code></p>
<ol>
<li>把master分支的内容推向origin位置。  </li>
<li>在origin远端服务器上，如果master不在，就创建一个名为master的分支。  </li>
<li>如果在服务器上存在master分支，就会移动服务器上master分支的位置，使它指到当前最新的进度上。  </li>
<li>设置upstream，就是-u做的事情。  </li>
</ol>
<blockquote>
<p>前面进行push时，加入了-u参数，表示要设置upstream。在git中，每个分支可以设置一个上游，每个分支最多也只能设置一个上游，他会指向并且追踪某个分支。通常upstream会是远端服务器的某个分支，但要设置本地的其他分支其实也可以。<br>设置完成之后，下次再执行<code>git push</code>指令不加任何参数时，git就会指导要推向哪个上游节点。<br>反之，如果没有设置upstream，每次就都得说明要推向哪里，如<code>git push origin master</code></p>
</blockquote>
<p>如果推送到远端并且想修改远端的分支名，则可以使用<code>git push origin:cat</code></p>
<h2 id="pull下载更新"><a href="#pull下载更新" class="headerlink" title="pull下载更新"></a>pull下载更新</h2><h3 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h3><p>执行<code>git fetch</code>之后，git看过在线版本的内容之后，会把当前线上有，但本地没有的内容进行抓取，同时移动origin相关的分支。本质上origin/master其实就相当于是master分出去的分支而已，那么当origin/master比master分支新时，想更新master分支则只需要进行合并即可。即<code>git merge origin/master</code>，执行时会使用fast-forward进行合并。       </p>
<h3 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h3><p><code>git pull</code> 其实相当于 <code>git fetch + git merge</code></p>
<h3 id="git-push-f"><a href="#git-push-f" class="headerlink" title="git push -f"></a>git push -f</h3><p>无视其他提交，强制推送。  </p>
<h3 id="git-push-–force-with-lease"><a href="#git-push-–force-with-lease" class="headerlink" title="git push –force-with-lease"></a>git push –force-with-lease</h3><p>使用此参数推送，如果远端有其他人推送了新的提交，那么推送将被拒绝，这种拒绝和没有加 –force 参数时的拒绝是一样的。</p>
<h1 id="git-flow"><a href="#git-flow" class="headerlink" title="git flow"></a>git flow</h1><p><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2015/12/git-workflow.html">Git 工作流程 - 阮一峰</a><br><a target="_blank" rel="noopener" href="https://jeffkreeftmeijer.com/git-flow/">git-flow</a><br><a target="_blank" rel="noopener" href="https://docs.gitlab.com/ee/topics/gitlab_flow.html">gitlab_flow</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/xiaoqi/p/gitlab-flow.html">高效团队的gitlab flow最佳实践</a><br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1646937">!!! 一文弄懂 Gitflow、Github flow、Gitlab flow 的工作流</a></p>
<h1 id="关于-–no-ff-与-–squash的区别"><a href="#关于-–no-ff-与-–squash的区别" class="headerlink" title="关于 –no-ff  与 –squash的区别"></a>关于 –no-ff  与 –squash的区别</h1><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ol>
<li>《Git从入门到精通》/高见龙著.-北京:北京大学出版社，2019.12  </li>
</ol>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>nytech
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://nytech3.github.io/2021/07/20/git/GIT-GIT%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" title="GIT-从入门到精通">https://nytech3.github.io/2021/07/20/git/GIT-GIT从入门到精通/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/GIT/" rel="tag"># GIT</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/07/19/algorithm/923_%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C%E7%9A%84%E5%A4%9A%E7%A7%8D%E5%8F%AF%E8%83%BD/" rel="prev" title="923. 三数之和的多种可能">
      <i class="fa fa-chevron-left"></i> 923. 三数之和的多种可能
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/07/21/algorithm/1143_%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E5%BA%8F%E5%88%97/" rel="next" title="1143. 最长公共子序列">
      1143. 最长公共子序列 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8GIT"><span class="nav-number">1.</span> <span class="nav-text">开始使用GIT</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A7%BB%E9%99%A4GIT%E5%AF%B9%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%8E%A7%E5%88%B6"><span class="nav-number">1.1.</span> <span class="nav-text">移除GIT对项目的控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%88%AB%E5%90%8D%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.</span> <span class="nav-text">常用别名配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-tmp%E7%9B%AE%E5%BD%95%E8%BF%9B%E8%A1%8C%E7%BB%83%E4%B9%A0"><span class="nav-number">1.3.</span> <span class="nav-text">使用&#x2F;tmp目录进行练习</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-add-%E4%B8%8E-git-add-A"><span class="nav-number">1.4.</span> <span class="nav-text">git add . 与 git add -A</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E5%8C%BA%EF%BC%88Working-Directory%EF%BC%89%E3%80%81%E6%9A%82%E5%AD%98%E5%8C%BA-Stage-Index-%E3%80%81%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93-Repository%E6%88%96Git-Directory-%E3%80%81%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93-Remote-Directory"><span class="nav-number">1.5.</span> <span class="nav-text">工作区（Working Directory）、暂存区(Stage&#x2F;Index)、本地仓库(Repository或Git Directory)、远程仓库(Remote Directory)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-log"><span class="nav-number">1.6.</span> <span class="nav-text">git log</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%89%B9%E5%AE%9A%E6%96%87%E4%BB%B6%E7%9A%84%E6%8F%90%E4%BA%A4"><span class="nav-number">1.6.1.</span> <span class="nav-text">查看特定文件的提交</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E5%AE%9A%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4%E8%80%85%E7%9A%84%E6%89%80%E6%9C%89%E6%97%A5%E5%BF%97"><span class="nav-number">1.6.2.</span> <span class="nav-text">指定查找某个或者多个提交者的所有日志</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E5%8C%85%E5%90%AB%E6%9F%90%E4%BA%9B%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84commit%E4%BF%A1%E6%81%AF"><span class="nav-number">1.6.3.</span> <span class="nav-text">查找包含某些关键字的commit信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E6%89%BE%E6%9F%90%E4%B8%80%E6%97%B6%E9%97%B4%E6%AE%B5%E7%9A%84commit"><span class="nav-number">1.6.4.</span> <span class="nav-text">查找某一时间段的commit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6-%E4%B8%8E-%E7%A7%BB%E5%87%BAGIT%E6%8E%A7%E5%88%B6"><span class="nav-number">1.7.</span> <span class="nav-text">删除文件 与 移出GIT控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9B%B4%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D"><span class="nav-number">1.8.</span> <span class="nav-text">更改文件名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GIT%E7%9A%84SHA-1%E8%AE%A1%E7%AE%97"><span class="nav-number">1.9.</span> <span class="nav-text">GIT的SHA-1计算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Blob%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.9.1.</span> <span class="nav-text">Blob对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tree%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.9.2.</span> <span class="nav-text">Tree对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Commit%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.9.3.</span> <span class="nav-text">Commit对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9commit%E8%AE%B0%E5%BD%95"><span class="nav-number">1.10.</span> <span class="nav-text">修改commit记录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E2%80%93amend%E5%8F%82%E6%95%B0%E8%BF%9B%E8%A1%8Ccommit"><span class="nav-number">1.10.1.</span> <span class="nav-text">使用–amend参数进行commit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8rebase%E8%BF%9B%E8%A1%8C%E4%BF%AE%E6%94%B9"><span class="nav-number">1.10.2.</span> <span class="nav-text">使用rebase进行修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8reset%E8%BF%9B%E8%A1%8C%E4%BF%AE%E6%94%B9"><span class="nav-number">1.10.3.</span> <span class="nav-text">使用reset进行修改</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%BD%E5%8A%A0%E6%96%87%E4%BB%B6%E5%88%B0%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E4%BF%AE%E6%94%B9"><span class="nav-number">1.11.</span> <span class="nav-text">追加文件到最后一次修改</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8reset%E8%BF%9B%E8%A1%8C%E4%BF%AE%E6%94%B9-1"><span class="nav-number">1.11.1.</span> <span class="nav-text">使用reset进行修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E2%80%93amend%E5%8F%82%E6%95%B0%E8%BF%9B%E8%A1%8Ccommit-1"><span class="nav-number">1.11.2.</span> <span class="nav-text">使用–amend参数进行commit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#gitignore%E6%96%87%E4%BB%B6"><span class="nav-number">1.12.</span> <span class="nav-text">.gitignore文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%BD%E7%95%A5-gitignore"><span class="nav-number">1.12.1.</span> <span class="nav-text">忽略.gitignore</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%85%E9%99%A4%E5%BF%BD%E7%95%A5%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number">1.12.2.</span> <span class="nav-text">清除忽略的文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E7%9A%84%E4%BB%A3%E7%A0%81%E8%A1%8C%E7%9A%84%E6%9C%80%E5%90%8E%E6%8F%90%E4%BA%A4%E4%BA%BA"><span class="nav-number">1.13.</span> <span class="nav-text">查看文件的代码行的最后提交人</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%BE%E5%9B%9E%E8%A2%AB%E5%88%A0%E9%99%A4%E7%9A%84%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85%E7%9B%AE%E5%BD%95"><span class="nav-number">1.14.</span> <span class="nav-text">找回被删除的文件或者目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-reset"><span class="nav-number">1.15.</span> <span class="nav-text">git reset</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Reset%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.15.1.</span> <span class="nav-text">Reset模式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%80%93mixed%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.15.1.1.</span> <span class="nav-text">–mixed模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%80%93soft%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.15.1.2.</span> <span class="nav-text">–soft模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E2%80%93hard%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.15.1.3.</span> <span class="nav-text">–hard模式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%96%E6%B6%88%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1commit"><span class="nav-number">1.15.2.</span> <span class="nav-text">取消最后一次commit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HEAD"><span class="nav-number">1.16.</span> <span class="nav-text">HEAD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AAcommit%E9%83%A8%E5%88%86%E5%86%85%E5%AE%B9"><span class="nav-number">1.17.</span> <span class="nav-text">只commit部分内容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git%E7%9B%AE%E5%BD%95"><span class="nav-number">1.18.</span> <span class="nav-text">.git目录</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git%E7%9A%84%E5%9B%9B%E7%A7%8D%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.18.1.</span> <span class="nav-text">git的四种对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-cat-file"><span class="nav-number">1.18.2.</span> <span class="nav-text">git cat-file</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AF%B9%E8%B1%A1%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.18.2.1.</span> <span class="nav-text">查看对象文件类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AF%B9%E8%B1%A1%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="nav-number">1.18.2.2.</span> <span class="nav-text">查看对象文件内容</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-add"><span class="nav-number">1.18.3.</span> <span class="nav-text">git add</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-commit"><span class="nav-number">1.18.4.</span> <span class="nav-text">git commit</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#objects%E7%9B%AE%E5%BD%95%E4%B8%ADTree%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.18.4.1.</span> <span class="nav-text">objects目录中Tree对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#objects%E7%9B%AE%E5%BD%95%E4%B8%ADCommit%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.18.4.2.</span> <span class="nav-text">objects目录中Commit对象</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#objects%E7%9B%AE%E5%BD%95%E4%B8%ADTag%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.18.5.</span> <span class="nav-text">objects目录中Tag对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E7%BB%93"><span class="nav-number">1.18.6.</span> <span class="nav-text">小结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E5%AF%B9%E8%B1%A1%E7%8A%B6%E6%80%81%E6%97%B6%EF%BC%8Cgit%E4%B8%8D%E5%81%9A%E5%B7%AE%E5%BC%82%E5%A4%87%E4%BB%BD"><span class="nav-number">1.18.7.</span> <span class="nav-text">在对象状态时，git不做差异备份</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git%E7%9A%84%E8%B5%84%E6%BA%90%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="nav-number">1.18.8.</span> <span class="nav-text">Git的资源回收机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BC%9A%E8%87%AA%E5%8A%A8%E8%A7%A6%E5%8F%91%E8%B5%84%E6%BA%90%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="nav-number">1.18.9.</span> <span class="nav-text">Git什么时候会自动触发资源回收机制</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%88%86%E6%94%AF"><span class="nav-number">2.</span> <span class="nav-text">使用分支</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="nav-number">2.1.</span> <span class="nav-text">查看分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%88%86%E6%94%AF%E5%90%8D"><span class="nav-number">2.2.</span> <span class="nav-text">修改分支名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="nav-number">2.3.</span> <span class="nav-text">删除分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="nav-number">2.4.</span> <span class="nav-text">切换分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%94%B9%E5%8A%A8%E4%B8%80%E5%8D%8A%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="nav-number">2.5.</span> <span class="nav-text">文件改动一半切换分支</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="nav-number">2.6.</span> <span class="nav-text">合并分支</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#merge%E5%90%88%E5%B9%B6"><span class="nav-number">2.6.1.</span> <span class="nav-text">merge合并</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#master%E5%90%88%E5%B9%B6cat%E6%88%96%E8%80%85dog"><span class="nav-number">2.6.1.1.</span> <span class="nav-text">master合并cat或者dog</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BF%AB%E8%BD%AC%E6%A8%A1%E5%BC%8F"><span class="nav-number">2.6.1.1.1.</span> <span class="nav-text">快转模式</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#dog%E5%90%88%E5%B9%B6cat%E6%88%96%E8%80%85cat%E5%90%88%E5%B9%B6dog"><span class="nav-number">2.6.1.2.</span> <span class="nav-text">dog合并cat或者cat合并dog</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF-1"><span class="nav-number">2.6.1.3.</span> <span class="nav-text">删除分支</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rebase%E5%90%88%E5%B9%B6"><span class="nav-number">2.6.2.</span> <span class="nav-text">Rebase合并</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%96%E6%B6%88rebase"><span class="nav-number">2.6.2.1.</span> <span class="nav-text">取消rebase</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E7%94%9F%E5%86%B2%E7%AA%81"><span class="nav-number">2.6.2.2.</span> <span class="nav-text">发生冲突</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95"><span class="nav-number">3.</span> <span class="nav-text">修改历史记录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%8A%E5%A4%9A%E4%B8%AAcommit%E5%90%88%E5%B9%B6%E6%88%90%E4%B8%80%E4%B8%AAcommit"><span class="nav-number">3.1.</span> <span class="nav-text">把多个commit合并成一个commit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%8A%E4%B8%80%E4%B8%AAcommit%E6%8B%86%E6%88%90%E5%A4%9A%E4%B8%AAcommit%E6%88%96%E8%80%85%E5%9C%A8%E4%B8%A4%E4%B8%AAcommit%E4%B9%8B%E9%97%B4%E6%96%B0%E5%A2%9E%E4%B8%80%E4%B8%AAcommit"><span class="nav-number">3.2.</span> <span class="nav-text">把一个commit拆成多个commit或者在两个commit之间新增一个commit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4commit%E6%88%96%E8%80%85%E8%B0%83%E6%95%B4commit%E9%A1%BA%E5%BA%8F"><span class="nav-number">3.3.</span> <span class="nav-text">删除commit或者调整commit顺序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#revert"><span class="nav-number">3.4.</span> <span class="nav-text">revert</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%96%E6%B6%88revert"><span class="nav-number">3.4.1.</span> <span class="nav-text">取消revert</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8revert"><span class="nav-number">3.4.2.</span> <span class="nav-text">为什么使用revert</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reset%E3%80%81Revert%E4%B8%8ERebase%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">3.5.</span> <span class="nav-text">Reset、Revert与Rebase的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Reset"><span class="nav-number">3.5.1.</span> <span class="nav-text">Reset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rebase"><span class="nav-number">3.5.2.</span> <span class="nav-text">Rebase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Revert"><span class="nav-number">3.5.3.</span> <span class="nav-text">Revert</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE"><span class="nav-number">4.</span> <span class="nav-text">标签</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%A0%87%E7%AD%BE"><span class="nav-number">4.1.</span> <span class="nav-text">什么是标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8%E6%A0%87%E7%AD%BE"><span class="nav-number">4.2.</span> <span class="nav-text">什么时候使用标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE%E7%9A%84%E5%88%86%E7%B1%BB"><span class="nav-number">4.3.</span> <span class="nav-text">标签的分类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E6%A0%87%E7%AD%BE"><span class="nav-number">4.4.</span> <span class="nav-text">删除标签</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">5.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#git-stash"><span class="nav-number">5.1.</span> <span class="nav-text">git stash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8Bstash%E5%88%97%E8%A1%A8"><span class="nav-number">5.2.</span> <span class="nav-text">查看stash列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86stash%E5%86%85%E5%AE%B9%E6%8D%A1%E5%9B%9E%E6%9D%A5"><span class="nav-number">5.3.</span> <span class="nav-text">将stash内容捡回来</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A7%BB%E9%99%A4stash"><span class="nav-number">5.4.</span> <span class="nav-text">移除stash</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86%E5%B7%B2%E6%8F%90%E4%BA%A4%E7%9A%84%E8%AE%B0%E5%BD%95%E8%BF%9B%E8%A1%8C%E6%8A%B9%E9%99%A4"><span class="nav-number">5.5.</span> <span class="nav-text">将已提交的记录进行抹除</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-cherry-pick"><span class="nav-number">5.6.</span> <span class="nav-text">git cherry-pick</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BA%E7%8E%B0detached-head%E5%8E%9F%E5%9B%A0"><span class="nav-number">5.7.</span> <span class="nav-text">出现detached head原因</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#git%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">6.</span> <span class="nav-text">git服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A8%E5%88%B0%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">6.1.</span> <span class="nav-text">推到远程服务器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%BF%9C%E7%AB%AF%E8%8A%82%E7%82%B9"><span class="nav-number">6.1.1.</span> <span class="nav-text">设置远端节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A8%E9%80%81%E5%88%B0%E8%BF%9C%E7%AB%AF%E8%8A%82%E7%82%B9"><span class="nav-number">6.1.2.</span> <span class="nav-text">推送到远端节点</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pull%E4%B8%8B%E8%BD%BD%E6%9B%B4%E6%96%B0"><span class="nav-number">6.2.</span> <span class="nav-text">pull下载更新</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git-fetch"><span class="nav-number">6.2.1.</span> <span class="nav-text">git fetch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-pull"><span class="nav-number">6.2.2.</span> <span class="nav-text">git pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-push-f"><span class="nav-number">6.2.3.</span> <span class="nav-text">git push -f</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-push-%E2%80%93force-with-lease"><span class="nav-number">6.2.4.</span> <span class="nav-text">git push –force-with-lease</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#git-flow"><span class="nav-number">7.</span> <span class="nav-text">git flow</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-%E2%80%93no-ff-%E4%B8%8E-%E2%80%93squash%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">8.</span> <span class="nav-text">关于 –no-ff  与 –squash的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">9.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="nytech"
      src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">nytech</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">140</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/nytech3" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;nytech3" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">nytech</span>
</div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"J6lBEIRqy1W5i6vcNgfWkL1P-gzGzoHsz","app_key":"tlzt00UvOikqxddgeJ59o1id","security":false};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
